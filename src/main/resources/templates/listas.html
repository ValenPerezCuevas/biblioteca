<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title>Listas</title>
    <!-- Enlace a Bootstrap CSS -->
    <!-- Enlace a Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">-->
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/bootstrap-grid.css" rel="stylesheet">
    <link href="/css/bootstrap-reboot.css" rel="stylesheet">
    <link href="/css/bootstrap-utilities.css" rel="stylesheet">


    <!-- Estilos personalizados -->
    <style>
        /* this card is inspired form this - https://georgefrancis.dev/ */

        .card {
            box-sizing: border-box;
            --border-radius: 0.75rem;
            --primary-color: #d1752b;
            --secondary-color: #3c3852;
            width: 90%;
            padding: 2em;
            cursor: pointer;
            border-radius: var(--border-radius);
            background: #fffef0;
            border: 1px solid white;
            box-shadow: 2px 3px 20px black, 0 0 60px #8a4d0f inset;
            backdrop-filter: blur(6px);
            /* filter: url(#wavy2); */   /* Comentario corregido */
            position: relative;
        }
        .card-body {
            filter:none;
        }

        .card:hover {
            border: 1px solid black;
            transform: scale(1.05);
        }

        .card:active {
            transform: scale(0.95) rotateZ(1.7deg);
        }
        .card > * + * {
            margin-top: 1.1em;
        }



        .card .card__title {
            padding: 0;
            font-size: 1.3rem;
            font-weight: bold;
        }

        .card .card__arrow {
            position: absolute;
            background: var(--primary-color);
            padding: 0.4rem;
            border-top-left-radius: var(--border-radius);
            border-bottom-right-radius: var(--border-radius);
            bottom: 0;
            right: 0;

            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.5s;
        }

        .card svg {
            transition: 0.2s;
        }

        /* hover */
        .card:hover .card__title {
            color: var(--primary-color);
            text-decoration: underline;
        }

        .card:hover .card__arrow {
            background: #111;
        }

        .card:hover .card__arrow svg {
            transform: translateX(3px);
        }
        /* Estilos para el footer */
        footer {
            background-color: #FFEDDB;
            color: #BF9270;
            padding: 20px 0;
            text-align: center;
        }

        .titulo p {
            color: black;
            font-size: 4rem;
            align-items: center;
        }

        .filter {
            display: none;
            position: absolute;
        }
        .text-container {
            position: relative;
            z-index: 2; /* Asegura que el texto esté por encima del efecto */
        }
        /*ESTILO BOTONES*/
        .button-container-subrayado {
            position: relative;
            width: 100px;
            height: 50px;
            margin-left: auto;
            margin-right: auto;
            margin-top: 4%;
            overflow: hidden;
            border: 1px solid #000;
            background-color: #BF9270; /* Marrón medio */

            font-weight: 300;
            transition: 0.5s;
            letter-spacing: 1px;
            border-radius: 8px;
        }
        .button-container-subrayado button {
            width: 101%;
            height: 100%;
            font-weight: 300;
            font-size: 2vh;
            letter-spacing: 1px;
            background-color:  #E3B7A0; /* Melocotón claro */
            -webkit-mask: url("https://raw.githubusercontent.com/robin-dela/css-mask-animation/master/img/urban-sprite.png");
            mask: url("https://raw.githubusercontent.com/robin-dela/css-mask-animation/master/img/urban-sprite.png");
            -webkit-mask-size: 3000% 100%;
            mask-size: 3000% 100%;
            border: none;
            color: black;
            cursor: pointer;

            animation: ani2 0.7s steps(29) forwards;
        }
        .button-container-subrayado button:hover {

            animation: ani 0.7s steps(29) forwards;
        }

        .mas {
            position: absolute;
            color: black;
            text-align: center;
            width: 101%;
            font-weight: 300;
            font-size: 2vh;
            padding-top: 3px;
            overflow: hidden;
        }
        @keyframes ani {
            from {
                -webkit-mask-position: 0 0;
                mask-position: 0 0;
            }
            to {
                -webkit-mask-position: 100% 0;
                mask-position: 100% 0;
            }
        }

        @keyframes ani2 {
            from {
                -webkit-mask-position: 100% 0;
                mask-position: 100% 0;
            }
            to {
                -webkit-mask-position: 0 0;
                mask-position: 0 0;
            }
        }
        /*estilo titulo texto */
        .text-animated {
            color:  #E3B7A0; /* Melocotón claro */
            font-weight: 500;
            left: 50%;
            letter-spacing: 5px;
            position: absolute;
            text-transform: uppercase;
            top: 35%;
            transform: translate(-50%, -50%);
        }

        .text-animated::before {
            animation: type 4s steps(24) normal;
            border-right: 1px solid #000;
            color: #BF9270; /* Marrón medio */
            content: 'Listas';
            height: 100%;
            left: 0;
            position: absolute;
            overflow: hidden;
            text-transform: uppercase;
            top: 0;
            width: 100%;
            white-space: nowrap;
        }

        @keyframes type {
            0% {
                width: 0;
            }

            100% {
                width: 100%;
                border-right: none;
            }
        }

    </style>

    <script src="../static/js/footer.js"></script>
</head>
<body>

<!-- Incluir el encabezado compartido -->
<div th:replace="header :: header"></div>

<br>
<div class="titulo text-center">
    <h1 class="text-center mb-4 text-animated">Listas</h1>
    <div class="button-container-subrayado ">
        <span class="mas">Crear Nueva Lista</span>
        <button type="button" name="Hover" data-bs-toggle="modal" data-bs-target="#crearListaModal">
            Crear Nueva Lista
        </button>
    </div>
</div>


<svg class="filter">
    <filter id="wavy2">
        <feTurbulence x="0" y="0" baseFrequency="0.02" numOctaves="5" seed="1"></feTurbulence>
        <feDisplacementMap in="SourceGraphic" scale="20"></feDisplacementMap>
    </filter>
</svg>
<div class="container-fluid">
    <div class="row">
        <div class="container col-lg-9 d-flex flex-column justify-content-center align-items-center" id="containerListas">
            <div class="row col-md-12" id="row1">
                <div th:each="lista : ${listas}" class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <div class="text-container">
                                <h5 class="card-title card__title text-center" th:text="${lista.nombre_lista}"></h5>
                                <p class="card-text">ID Lista: <span th:text="${lista.id_lista}"></span></p>
                                <p class="card-text">ID Usuario: <span th:text="${lista.id_usuario}"></span></p>
                                <p class="card-text">Creado Desde : <span th:text="${lista.creado_desde}"></span></p>
                                <p class="card-text">Actualizado Desde: <span th:text="${lista.actualizado_desde}"></span></p>
                                <p class="card-text">Creado Por: <span th:text="${lista.creado_por}"></span></p>
                                <p class="card-text">Actualizado Por: <span th:text="${lista.actualizado_por}"></span></p>
                                <div class="btn-group" role="group" aria-label="Acciones">

                                        <button type="button" title="Modificar Lista" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modificarListaModal" th:attr="data-id=${lista.id_lista}">
                                            Modificar
                                        </button>
                                    <form th:action="@{'/listas/eliminarLista/' + ${lista.id_lista}}" method="post" onsubmit="return confirm('¿Estás seguro de que quieres eliminar esta lista?');">
                                        <button type="submit" class="btn btn-danger" title="Eliminar lista">X</button>
                                    </form>



                                </div>
                            </div>
                        </div>
                        <div class="card__arrow">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="15" width="15">
                                <path fill="#fff" d="M13.4697 17.9697C13.1768 18.2626 13.1768 18.7374 13.4697 19.0303C13.7626 19.3232 14.2374 19.3232 14.5303 19.0303L20.3232 13.2374C21.0066 12.554 21.0066 11.446 20.3232 10.7626L14.5303 4.96967C14.2374 4.67678 13.7626 4.67678 13.4697 4.96967C13.1768 5.26256 13.1768 5.73744 13.4697 6.03033L18.6893 11.25H4C3.58579 11.25 3.25 11.5858 3.25 12C3.25 12.4142 3.58579 12.75 4 12.75H18.6893L13.4697 17.9697Z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="row d-flex vh-15">
    <div class="d-flex justify-content-center">
        <p id="frase"></p>
    </div>
</footer>

<!-- Modal de crear lista -->
<div class="modal fade" id="crearListaModal" tabindex="-1" aria-labelledby="crearListaModal"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="crearListaModallabel">Crear Lista</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
<!--                <form action="#" th:action="@{/modificarLista}" th:object="${nuevaLista}" method="post">-->
<!--                    <input type="hidden" id="idUsuario" name="id_usuario" th:value="${usuarioModificado.id_usuario}" />-->
<!--                    <div class="mb-3">-->
<!--                        <label for="nombreUsuario2" class="form-label">Nombre</label>-->
<!--                        <input type="text" class="form-control" id="nombreUsuario2" name="nombre" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="contrasenaUsuario2" class="form-label">Contraseña</label>-->
<!--                        <input type="password" class="form-control" id="contrasenaUsuario2" name="contrasena" required>-->
<!--                    </div>-->
<!--                    <div class="mb-3">-->
<!--                        <label for="rolUsuario2" class="form-label">Rol</label>-->
<!--                        <select class="form-select" id="rolUsuario2" name="rol.id_rol" required>-->
<!--                            <option th:each="rol : ${listaRoles}"-->
<!--                                    th:value="${rol.id_rol}"-->
<!--                                    th:text="${rol.nombre_rol}"-->
<!--                                    th:selected="${usuario != null and usuario.rol != null and rol.id_rol == usuario.rol.id_rol}">-->
<!--                            </option>-->
<!--                        </select>-->

<!--                    </div>-->
<!--                    <button type="submit" class="btn btn-primary">Modificar Usuario</button>-->
<!--                </form>-->
            </div>
        </div>
    </div>
</div>

<!-- Scripts de Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/js/footer.js"></script>


</body>
</html>